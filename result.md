# Этап 3 Потенциальные точки внедрения XSS

__homepage__ - при переходе на домашнюю страницу пользователя осущуствляется 
перенаправлением на ./[homepage]. При некорректнгом запроме на главную страницу
выводится строка invalid request
с содержанием самого тела реквеста. Блокировка скриптов не производится

Указав как домашнюю страницу

```html
<script>alert("homepage XSS")</script>
```

При перенаправлениии в коде страницы появится (out3.txt)

```html 
<div class=\'message\'>Invalid request: /<script>alert("homepage XSS")</cheese.png</div>
```

Что позволит воспроизвести скрипт

Также уязвимость присутсвует в сниппетах
При создании сниппета указатель``` <script>``` оборачивается в ```<blocked>``` что не позволяет ему исполняться
(out.txt, out2.txt)

Одкако если указать скрипт как параметр

```html
<b onmouseover='alert("mouse")'>
 snippet
 <blocked>
 </blocked>
</b>
```
То директива blocked не отрабатывает, что позваляет также исполнить скрипт


# Этап 4 Анализ результатов

Содержимое нового сниппета и обновление профиля передаётся как параметр в URL (out4.txt)

Используются GET запросы, так как payload в этом случае не нужен

GET '/621214938579572901982611939206054386999/newsnippet2?snippet=__newsnippet__'

GET '/621214938579572901982611939206054386999/saveprofile?action=update&name=mark&oldpw=&pw=&icon=&web_site=**%3Cscript%3Ealert%28%22homepage+XSS%22%29%3C%5Cscript%3E**&color=&private_snippet=' 

Как указано выше, XSS нагрузка отражается в ответе от сервера в теле HTML

В теле ответа можно наблюдать инструкцию alert которая используется для проверки возможности
вставить и использовать скрипт
